/* Copyright (c) Microsoft. All rights reserved. See License.txt in the project root for license information.*/
!function(e,n){var t={boolean:!1,function:!0,object:!0,number:!1,string:!1,undefined:!1},e=t[typeof window]&&window||this,o=t[typeof exports]&&exports&&!exports.nodeType&&exports,i=t[typeof module]&&module&&!module.nodeType&&module,r=(i&&i.exports,t[typeof global]&&global);!r||r.global!==r&&r.window!==r||(e=r),"function"==typeof define&&define.amd?define(["rx-lite-compat","angular","exports"],function(t,o,i){return e.Rx=n(e,i,t,o),e.Rx}):"object"==typeof module&&module&&module.exports==o?module.exports=n(e,module.exports,require("rx-lite-compat"),require("angular")):e.Rx=n(e,{},e.Rx,e.angular)}(this,function(e,n,t,o,i){function r(e){return function(){try{return e.apply(this,arguments)}catch(e){return f.e=e,f}}}function s(e){if(!o.isFunction(e))throw new TypeError("fn must be a function");return r(e)}function u(){}var f={e:{}};return o.module("rx",[]).factory("rx",function(e){e.Rx||(e.Rx=t);var n=function(e){function n(n,t,o){this._self=n,this._name=t,this._fn=o,e.call(this)}function i(e,n){this._self=e,this._name=n,this.isDisposed=!1}return t.internals.inherits(n,e),n.prototype.subscribeCore=function(e){var n=this._fn;return this._self[this._name]=function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];if(o.isFunction(n)){var u=s(n).apply(this,i);if(u===f)return e.onError(u.e);e.onNext(u)}else 1===i.length?e.onNext(i[0]):e.onNext(i)},new i(this._self,this._name)},i.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,delete this._self[this._name])},n}(t.ObservableBase);return t.createObservableFunction=function(e,t,o){return new n(e,t,o).publish().refCount()},e.Rx}),t.Observable.prototype.safeApply=function(e,n,t,i){return n=o.isFunction(n)?n:u,t=o.isFunction(t)?t:u,i=o.isFunction(i)?i:u,this.takeWhile(function(){return!e.$$destroyed}).tap(function(t){e.$$phase||e.$root.$$phase?n(t):e.$apply(function(){n(t)})},function(n){e.$$phase||e.$root.$$phase?t(n):e.$apply(function(){t(n)})},function(){e.$$phase||e.$root.$$phase?i():e.$apply(function(){i()})})},t});
//# sourceMappingURL=rx.lite.angular.compat.map